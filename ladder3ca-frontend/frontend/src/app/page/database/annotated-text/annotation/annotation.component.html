<div *ngIf="text">
  <h2 class="mt-5 mb-3">Annotations</h2>
  <p class="mt-4 mb-5">
    ID: <strong>{{ text.altId }} ({{ text.id }})</strong><br />
    Text: <strong>{{ text.textdata }}</strong>
  </p>
  <div class="col-md-12 mt-1">
    <table class="coding-scheme mb-5">
      <thead>
        <tr>
          <th>Token Nr</th>
          <th>Text</th>
          <th>Modifier</th>
          <th>Subact</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let token of text.tokens; let index = index">
          <td>{{ index }}</td>
          <td>{{ token }}</td>
          <td>
            <span class="mx-2" *ngFor="let mod of modifierAnnotationAt(index)"
              >{{ mod.modifierCode + " " }}
            </span>
            <button
              class="btn btn-sm"
              (click)="editModifierAnnotationAt(token, index)"
            >
              <fa-icon [icon]="faPencil"></fa-icon>
            </button>
          </td>
          <td>
            <span class="mx-2" *ngFor="let sub of subactAnnotationAt(index)"
              >{{ sub.fullName + " " }}
            </span>
            <button
              class="btn btn-sm"
              (click)="editSubactAnnotationAt(token, index)"
            >
              <fa-icon [icon]="faPencil"></fa-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Button trigger modal -->
    <a type="button" class="btn btn-highlighted" (click)="applyModels(false)"
      >Add automatic annotations</a
    >
    <a type="button" class="btn btn-primary" (click)="applyModels(true)"
      >Add all possible annotations</a
    >
    <button
      type="button"
      class="btn btn-secondary"
      [disabled]="!changed"
      (click)="save()"
    >
      Save
    </button>
  </div>
</div>
